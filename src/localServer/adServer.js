//CB001-Composite API
serviceToken = {
    "header": {
        "apId": "CRMLXCRM01",
        "branchId": "00081",
        "employeeId": "13063",
        "clientIp": " 255.255.255.255",
        "txnDateTime": "20190801140647462",
        "returnCode": "0000",
        "returnDesc": "交易成功"
    },
    "body": {
        "aoId": "jeweltest01",
        "token": "jeweltestToken001"
    }
};

//CB-005-Composite API
companyList = {
    "header": {
        "apId": "CRMLXCRM01",
        "branchId": "00081",
        "employeeId": "13063",
        "clientIp": " 255.255.255.255",
        "txnDateTime": "20190801140647462",
        "returnCode": "0000",
        "returnDesc": "交易成功"
    },
    "body": {
        "aoData": [
            {
                "id": "d000",
                "ao": "人類經理 具燦星",
                "group_name": "滿月集團",
                "cus_id": "03546618",
                "cus_name": "jeweltestDummyData",
                "msr": "4",
                "rorwa": "0.36%",
                "raroc": "0.36%",
                "last_year_contribution": "10000",
                "this_year_contribution": "9000",
                "deposit": "1000000",
                "load_balance": "600000",
                "trade_balance": "3000",
                "tag": [1, 2, 3]
            }, {
                "id": "d001",
                "ao": "人類經理 具燦星",
                "group_name": "滿月集團",
                "cus_id": "03546618",
                "cus_name": "德魯納股份有限公司",
                "msr": "4",
                "rorwa": "0.36%",
                "raroc": "0.36%",
                "last_year_contribution": "10000",
                "this_year_contribution": "9000",
                "deposit": "1000000",
                "load_balance": "600000",
                "trade_balance": "3000",
                "tag": [1, 2, 3]
            },
            {
                "id": "d002",
                "ao": "店長 鄭北東",
                "group_name": "滿月集團",
                "cus_id": "11223355",
                "cus_name": "千里馬超市",
                "msr": "4",
                "rorwa": "0.56%",
                "raroc": "0.36%",
                "last_year_contribution": "100",
                "this_year_contribution": "500",
                "deposit": "100000",
                "load_balance": "60000",
                "trade_balance": "3000",
                "tag": [2, 3]
            },
            {
                "id": "d003",
                "ao": "酒保 金時翼",
                "group_name": "滿月集團",
                "cus_id": "11223355",
                "cus_name": "天空酒吧",
                "msr": "4",
                "rorwa": "0.56%",
                "raroc": "0.36%",
                "last_year_contribution": "50000",
                "this_year_contribution": "500",
                "deposit": "100",
                "load_balance": "60000",
                "trade_balance": "3000",
                "tag": [2, 3]
            },
            {
                "id": "c001",
                "ao": "企企2 葉又萱",
                "group_name": "鴻海集團",
                "cus_id": "03546618",
                "cus_name": "廣宇科技股份有限公司",
                "msr": "4",
                "rorwa": "0.36%",
                "raroc": "0.36%",
                "last_year_contribution": "1000",
                "this_year_contribution": "900",
                "deposit": "10000",
                "load_balance": "2000",
                "trade_balance": "3000",
                "tag": [1, 2, 3]
            },
            {
                "id": "c002",
                "ao": "企企2 葉又萱",
                "group_name": "鴻海集團",
                "cus_id": "12800225",
                "cus_name": "群創光電股份有限公司",
                "msr": "D",
                "rorwa": "",
                "raroc": "",
                "last_year_contribution": "1000",
                "this_year_contribution": "900",
                "deposit": "",
                "load_balance": "2000",
                "trade_balance": "3000",
                "tag": [1]
            },
            {
                "id": "c003",
                "ao": "企企2 葉又萱",
                "group_name": "鴻海集團",
                "cus_id": "80731387",
                "cus_name": "宏瀚投資股份有限公司",
                "msr": "4",
                "rorwa": "0.85%",
                "raroc": "0.85%",
                "last_year_contribution": "",
                "this_year_contribution": "",
                "deposit": "",
                "load_balance": "",
                "trade_balance": "",
                "tag": [1, 2]
            },
            {
                "id": "c004",
                "ao": "企企2 葉又萱",
                "group_name": "鴻海集團",
                "cus_id": "80732007",
                "cus_name": "聯巨投資股份有限公司",
                "msr": "6+",
                "rorwa": "0.74%",
                "raroc": "0.74%",
                "last_year_contribution": "",
                "this_year_contribution": "",
                "deposit": "",
                "load_balance": "",
                "trade_balance": "",
                "tag": [3]
            },
            {
                "id": "c005",
                "ao": "企企2 葉又萱",
                "group_name": "鴻海集團",
                "cus_id": "84149499",
                "cus_name": "天鈺科技股份有限公司",
                "msr": "5",
                "rorwa": "6.22%",
                "raroc": "6.22%",
                "last_year_contribution": "",
                "this_year_contribution": "",
                "deposit": "",
                "load_balance": "",
                "trade_balance": "",
                "tag": [4]
            },
            {
                "id": "c006",
                "ao": "企企2 葉又萱",
                "group_name": "鴻海集團",
                "cus_id": "496390JA",
                "cus_name": "捷達創新科技有限公司",
                "msr": "W2",
                "rorwa": "",
                "raroc": "",
                "last_year_contribution": "",
                "this_year_contribution": "",
                "deposit": "",
                "load_balance": "",
                "trade_balance": "",
                "tag": [5]
            },
            {
                "id": "c007",
                "ao": "企企2 葉又萱",
                "group_name": "鴻海集團",
                "cus_id": "27310561",
                "cus_name": "啟耀光電股份有限公司",
                "msr": "8",
                "rorwa": "",
                "raroc": "",
                "last_year_contribution": "",
                "this_year_contribution": "",
                "deposit": "",
                "load_balance": "",
                "trade_balance": "",
                "tag": []
            },
            {
                "id": "c008",
                "ao": "企企2 葉又萱",
                "group_name": "鴻海集團",
                "cus_id": "28488592",
                "cus_name": "瑞祺電通股份有限公司",
                "msr": "5",
                "rorwa": "",
                "raroc": "",
                "last_year_contribution": "",
                "this_year_contribution": "",
                "deposit": "",
                "load_balance": "",
                "trade_balance": "",
                "tag": []
            },
            {
                "id": "c009",
                "ao": "企企2 葉又萱",
                "group_name": "鴻海集團",
                "cus_id": "70380046",
                "cus_name": "樺漢科技股份有限公司",
                "msr": "4+",
                "rorwa": "0.43%",
                "raroc": "0.43%",
                "last_year_contribution": "",
                "this_year_contribution": "",
                "deposit": "",
                "load_balance": "",
                "trade_balance": "",
                "tag": []
            },
            {
                "id": "c010",
                "ao": "企企2 葉又萱",
                "group_name": "鴻海集團",
                "cus_id": "24291669",
                "cus_name": "康聯生醫科技股份有限公司",
                "msr": "6",
                "rorwa": "1.98%",
                "raroc": "1.98%",
                "last_year_contribution": "",
                "this_year_contribution": "",
                "deposit": "",
                "load_balance": "",
                "trade_balance": "",
                "tag": []
            },
            {
                "id": "c011",
                "ao": "企企2 jeweltest01",
                "group_name": "鴻海集團",
                "cus_id": "24291669",
                "cus_name": "康聯生醫科技股份有限公司",
                "msr": "6",
                "rorwa": "1.98%",
                "raroc": "1.98%",
                "last_year_contribution": "",
                "this_year_contribution": "",
                "deposit": "",
                "load_balance": "",
                "trade_balance": "",
                "tag": []
            }
        ]
    }
};

/*
// CB007-Composite API-營運量-第一層
const assetsLibilities = {
  "header": {
    "apId": "CRMLXCRM01",
    "branchId": "00081",
    "employeeId": "13063",
    "clientIp": " 255.255.255.255",
    "txnDateTime": "20190801140647462",
    "returnCode": "0000",
    "returnDesc": "交易成功"
  },
  "body": {
    "customerId": "A111111112",
    "deposit": "存款餘額",
    "depositMon": ["201809", "201810", "201811", "201812", "201901", "201902", "201903", "201904", "201905", "201906", "201907", "201908", "201909"],
    "depositBal": ["1111", "2222", "3333", "4444", "5555", "4444", "3333", "2222", "1111", "7777", "8888", "9999", "6666"],
    "loan": "放款餘額",
    "loanMon": ["201809", "201810", "201811", "201812", "201901", "201902", "201903", "201904", "201905", "201906", "201907", "201908", "201909"],
    "loanBal": ["5555", "4444", "3333", "2222", "1111", "2222", "3333", "4444", "5555", "6666", "7777", "8888", "9999"],
    "tradeFinance": "貿融餘額",
    "tradeFinanceMon": ["201809", "201810", "201811", "201812", "201901", "201902", "201903", "201904", "201905", "201906", "201907", "201908", "201909"],
    "tradeFinanceBal": ["1111", "2222", "3333", "4444", "5555", "4444", "3333", "2222", "1111", "7777", "8888", "9999", "6666"],
    "import": "進口實績",
    "importMon": ["201809", "201810", "201811", "201812", "201901", "201902", "201903", "201904", "201905", "201906", "201907", "201908", "201909"],
    "importAmt": ["5555", "4444", "3333", "2222", "1111", "2222", "3333", "4444", "5555", "6666", "7777", "8888", "9999"],
    "export": "出口實績",
    "exportMon": ["201809", "201810", "201811", "201812", "201901", "201902", "201903", "201904", "201905", "201906", "201907", "201908", "201909"],
    "exportAmt": ["1111", "2222", "3333", "4444", "5555", "4444", "3333", "2222", "1111", "7777", "8888", "9999", "6666"],
    "tmu": "TMU額度使用率",
    "tmuMon": ["201809", "201810", "201811", "201812", "201901", "201902", "201903", "201904", "201905", "201906", "201907", "201908", "201909"],
    "tmuUsage": ["0.0667", "0.0887", "0.0777", "0.0557", "0.0447", "0.0337", "0,0227", "0.017", "0.0997", "0.0887", "0.0227", "0.0337", "0.0447"],
    "mtm": "MTM額度使用率",
    "mtmMon": ["201809", "201810", "201811", "201812", "201901", "201902", "201903", "201904", "201905", "201906", "201907", "201908", "201909"],
    "mtmUsage": ["0.0447", "0.0337", "0.0227", "0.0887", "0.0997", "0.0227", "0,0117", "0.0227", "0.0337", "0.0447", "0.0557", "0.0777", "0.0887"],
  }
}
// CB008-Composite API-營運量-存款餘額第二層
const depositDetail = {
  "header": {
    "apId": "CRMLXCRM01",
    "branchId": "00081",
    "employeeId": "13063",
    "clientIp": " 255.255.255.255",
    "txnDateTime": "20190801140647462",
    "returnCode": "0000",
    "returnDesc": "交易成功"
  },
  "body": {
    "customerId": "A111111112",
    "assets": {
      "ntdAssets": {
        "sd": "1111",
        "td": "2222",
        "cd": "3333"
      },
      "fxAssets": {
        "sd": "1111",
        "td": "2222",
        "cd": "3333"
      },
      "sumAssets": {
        "sd": "2222",
        "td": "4444",
        "cd": "6666"
      },
      "r6mthAvgBal": {
        "sd": "2000",
        "td": "2000",
        "cd": "2000"
      }
    },
    "sdDetail": [{
      "acctNbr": "",
      "currencyCode": "",
      "fxCurrentBal": "",
      "ntdCurrentBal": "",
      "currentIntRate": "",
      "ftpRate": "",
      "sdRemark": {
        "accBranchCode": "",
        "payrollCodeDtl": "",
        "isTrust": "",
        "isSecurities": "",
        "isRevers": ""
      }
    }],
    "tdDetail": [{
      "acctNbr": "",
      "currencyCode": "",
      "fxCurrentBal": "",
      "ntdCurrentBal": "",
      "currentIntRate": "",
      "ftpRate": "",
      "acctOpenDate": "",
      "tdDueDate": ""
    }],
    "cdDetail": [{
      "acctNbr": "",
      "ntdCurrentBal": "",
      "cdRemark": {
        "dishY3ChkCnt": "",
        "dishCancelY3ChkCnt": "",
        "rejectedStatusInd": "",
        "isReverse": ""
      }
    }]
  }
}



const corsOptions = {
    origin: '*',
    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS',
    allowedHeaders: '*',
};

var apiDomain = 'http://localhost:5000';
var express = require('express');
var cors = require('cors');
var bodyParser = require('body-parser');
var app = express();
app.use(cors(corsOptions));
app.use(bodyParser.json());

// CB001-Composite API
app.post('/firstpage/getCBAoProfile', function (req, res, next) {
    console.log('POST ' + apiDomain + '/firstpage/getCBAoProfile');
    res.json(serviceToken);
});

//CB-005-Composite API
app.post('/firstpage/getCBCompanyList', function (req, res, next) {
    console.log('POST ' + apiDomain + '/firstpage/getCBCompanyList');
    res.json(companyList);
});

// CB007-Composite API-營運量-第一層
app.post('/product/getCBAssetsLibilities', function (req, res, next) {
    console.log('POST ' + apiDomain + '/product/getCBAssetsLibilities');
    res.json(assetsLibilites);
});

// CB008-Composite API-營運量-存款餘額第二層
app.post('/product/getCBDepositDetail', function (req, res, next) {
    console.log('POST ' + apiDomain + '/product/getCBDepositDetail');
    res.json(assetsLibilites);
});

// CB009-Composite API-營運量-放款餘額第二層
app.post('/product/getCBLoanDetail', function (req, res, next) {
    console.log('POST ' + apiDomain + '/product/getCBLoanDetail');
    res.json(assetsLibilites);
});

// CB010-Composite API-營運量-進出口實績第二層
app.post('/product/getCBImportExportDetail', function (req, res, next) {
    console.log('POST ' + apiDomain + '/product/getCBImportExportDetail');
    res.json(assetsLibilites);
});

// CB011-Composite API-營運量-TMU額度第二層
app.post('/product/getCBTMUDetail', function (req, res, next) {
    console.log('POST ' + apiDomain + '/product/getCBTMUDetail');
    res.json(assetsLibilites);
});

// CB012-Composite API-基本資訊-公司資訊第一層
app.post('/custprofile/getCBCompany', function (req, res, next) {
    console.log('POST ' + apiDomain + '/custprofile/getCBCompany');
    res.json(company);
});

// CB014-Composite API-基本資訊-個人關聯戶第二層(關聯戶基本資訊)
app.post('/custprofile/getCBCompanyAssociate', function (req, res, next) {
    console.log('POST ' + apiDomain + '/custprofile/getCBCompanyAssociate');
    res.json(companyAssociate);
});

// CB015-Composite API-基本資訊-個人關聯戶第二層(客戶資產負債)
app.post('/custprofile/getCBCompanyAssociateAssets', function (req, res, next) {
    console.log('POST ' + apiDomain + '/custprofile/getCBCompanyAssociateAssets');
    res.json(companyAssociateAssets);
});

// CB020-Composite API-基本資訊-貢獻度第一層
app.post('/custprofile/getCBContribution', function (req, res, next) {
    console.log('POST ' + apiDomain + '/custprofile/getCBContribution');
    res.json(contribution);
});

// CB021-Composite API-基本資訊-貢獻度第二層
app.post('/custprofile/getCBContributionDetail', function (req, res, next) {
    console.log('POST ' + apiDomain + '/custprofile/getCBContributionDetail');
    res.json(contribution);
});

app.listen(5000); //dedault port
console.log('Node.js web server at port 5000 is running..')
*/
